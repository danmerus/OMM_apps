import streamlit as st

st.set_page_config(
    page_title="–ì–°–î¬†‚Äî —Ä–∏—Å–∫ –ó–†–ü",
    page_icon="ü©∫",
    layout="centered",
)

st.header("OMM FETAL GROWTH RETARDATION IN GESTATIONAL MELLITUS")

with st.form("risk_form"):
    x1 = st.selectbox(
        "–ù–∞—Ä—É—à–µ–Ω–∏–µ –º–∞—Ç–æ—á–Ω–æ‚Äë–ø–ª–∞—Ü–µ–Ω—Ç–∞—Ä–Ω–æ–≥–æ –∫—Ä–æ–≤–æ—Ç–æ–∫–∞ –ø–æ –£–ó–ò",
        ("–ù–µ—Ç", "–ï—Å—Ç—å"),
        help="–í—ã–±–µ—Ä–∏—Ç–µ ¬´–ï—Å—Ç—å¬ª, –µ—Å–ª–∏ –∫—Ä–æ–≤–æ—Ç–æ–∫ –Ω–∞—Ä—É—à–µ–Ω"
    )
    x2 = st.number_input(
        "–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è VEGF‚ÄëA (–º–ï/–º–ª)",
        min_value=0.0,
        step=0.1,
        format="%.2f"
    )
    x3 = st.selectbox(
        "–ì–µ—Ç–µ—Ä–æ–∑–∏–≥–æ—Ç–Ω—ã–π –≥–µ–Ω–æ—Ç–∏–ø eNOS:G894T¬†G>T",
        ("–ù–µ—Ç", "–ï—Å—Ç—å"),
        help="¬´–ï—Å—Ç—å¬ª¬†= –æ–±–Ω–∞—Ä—É–∂–µ–Ω –≥–µ–Ω–æ—Ç–∏–ø¬†G/T"
    )

    submitted = st.form_submit_button("–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ä–∏—Å–∫")

if submitted:
    # map selections to 0 / 1
    x1_val = 1 if x1 == "–ï—Å—Ç—å" else 0
    x3_val = 1 if x3 == "–ï—Å—Ç—å" else 0

    P = 27.4 * x1_val - 0.31 * x2 + 0.48 * x3_val + 1.6
    st.markdown(f"### –ò–Ω–¥–µ–∫—Å **P** = `{P:.2f}`")

    if P > 0.49:
        st.error("–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –∑–∞–¥–µ—Ä–∂–∫–∏ —Ä–æ—Å—Ç–∞ –ø–ª–æ–¥–∞")
    else:
        st.success("–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫ –∑–∞–¥–µ—Ä–∂–∫–∏ —Ä–æ—Å—Ç–∞ –ø–ª–æ–¥–∞")

    # st.caption(
    #     "–ü—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏: "
    #     "Aspartaminotransferase¬†‚Äî –õ–ü–í–ü¬†‚Äî –≥–µ–Ω–æ—Ç–∏–ø PPARG P12A¬†‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–µ—Å—Ç–∞–≥–µ–Ω–∞–º–∏."
    # )
