# app.py
import streamlit as st
import numpy as np

st.set_page_config(page_title="ĞŸÑ€Ğ¾Ğ³Ğ½Ğ¾Ğ· & Ğ½ĞµÑ„Ñ€Ğ¾Ğ°Ğ¼Ğ½Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑˆÑƒĞ½Ñ‚", page_icon="ğŸ¼")

st.header("ĞŸÑ€Ğ¾Ğ³Ğ½Ğ¾Ğ· Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ½ĞµÑ„Ñ€Ğ¾Ğ°Ğ¼Ğ½Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑˆÑƒĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ\nÑƒ Ğ¿Ğ»Ğ¾Ğ´Ğ¾Ğ² Ñ Ğ²Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ¹ Ğ¾Ğ±ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ ÑƒÑ€Ğ¾Ğ¿Ğ°Ñ‚Ğ¸ĞµĞ¹")


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# I.  ĞŸÑ€Ğ¾Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¸Ğ½Ğ´ĞµĞºÑ WI
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
st.header("I ÑÑ‚Ğ°Ğ¿ â€“ Ğ¿Ñ€Ğ¾Ğ³Ğ½Ğ¾Ğ· (WI)")

col1, col2 = st.columns(2)
with col1:
    x1 = st.checkbox("Ğ”Ğ²ÑƒÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ½ĞµĞµ Ğ¿Ğ¾Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ñ‡ĞµĞº (Ğ¥1)", value=False)
    x2 = st.checkbox("ĞœÑƒĞ¶ÑĞºĞ¾Ğ¹ Ğ¿Ğ¾Ğ» Ğ¿Ğ»Ğ¾Ğ´Ğ° (Ğ¥2)", value=False)

with col2:
    x3 = st.number_input("ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ Ğ¿Ğ¾Ñ‡ĞºĞ¸, Ğ¼Ğ¼ (Ğ¥3)", min_value=0.0, value=35.0)
    x4 = st.number_input("Ğ¢Ğ¾Ğ»Ñ‰Ğ¸Ğ½Ğ° Ğ¿Ğ°Ñ€ĞµĞ½Ñ…Ğ¸Ğ¼Ñ‹, Ğ¼Ğ¼ (Ğ¥4)", min_value=0.0, value=4.0)
    x5 = st.number_input("Ğ˜Ğ½Ğ´ĞµĞºÑ Ğ²Ğ°ÑĞºÑƒĞ»ÑÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ VI (Ğ¥5)", min_value=0.0, value=0.35)
    x6 = st.number_input("Ğ˜Ğ½Ğ´ĞµĞºÑ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ° FI (Ğ¥6)", min_value=0.0, value=0.50)

# ĞºĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚Ñ‹ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹ (Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ½Ñ‹Ğµ â€“ Ğ²ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸)
b = np.array([-1.0,  0.8,  0.02,  0.15,  5.0,  7.0])   # <âˆ’ Ğ·Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚Ğµ Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¼Ğ¸
const_wi = 4.673

X = np.array([int(x1), int(x2), x3, x4, x5, x6])
wi = const_wi + np.dot(b, X)

st.subheader(f"WI = {wi:>.3f}")

if wi < 0:
    st.error("ĞĞµĞ±Ğ»Ğ°Ğ³Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ³Ğ½Ğ¾Ğ·")
else:
    st.success("Ğ‘Ğ»Ğ°Ğ³Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ³Ğ½Ğ¾Ğ· â€“ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸Ğ¼ ĞºĞ¾ 2-Ğ¼Ñƒ ÑÑ‚Ğ°Ğ¿Ñƒ")

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# II.  Ğ”Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¸Ğ½Ğ´ĞµĞºÑ DI
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if wi >= 0:
    st.header("II ÑÑ‚Ğ°Ğ¿ â€“ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ ÑˆÑƒĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ (DI)")

    col3, col4 = st.columns(2)
    with col3:
        y1 = st.number_input("ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ Ğ¿Ğ¾Ñ‡ĞºĞ¸, Ğ¼Ğ¼ (Y1)", min_value=0.0, value=x3)
        y2 = st.number_input("Ğ¢Ğ¾Ğ»Ñ‰Ğ¸Ğ½Ğ° Ğ¿Ğ°Ñ€ĞµĞ½Ñ…Ğ¸Ğ¼Ñ‹, Ğ¼Ğ¼ (Y2)", min_value=0.0, value=x4)
        y3 = st.number_input("Ğ˜Ğ½Ğ´ĞµĞºÑ Ğ²Ğ°ÑĞºÑƒĞ»ÑÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ VI (Y3)", min_value=0.0, value=x5)
        y4 = st.number_input("Ğ˜Ğ½Ğ´ĞµĞºÑ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ° FI (Y4)", min_value=0.0, value=x6)

    with col4:
        y5 = st.checkbox("ĞŸĞ¾Ñ‡ĞºĞ°-ĞºĞ¸ÑÑ‚Ğ° (Y5)", value=False)
        y6 = st.checkbox("ĞšĞ¸ÑÑ‚Ğ¾Ğ·Ğ½Ğ°Ñ Ğ´Ğ¸ÑĞ¿Ğ»Ğ°Ğ·Ğ¸Ñ Ğ¿Ğ¾Ñ‡ĞºĞ¸ (Y6)", value=False)

    # ĞºĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚Ñ‹ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹ (Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ½Ñ‹Ğµ â€“ Ğ·Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚Ğµ)
    a = np.array([0.015, 0.12, 4.2, 6.8, -1.5, -2.0])   # <âˆ’ Ğ·Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚Ğµ Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¼Ğ¸
    const_di = 0.463

    Y = np.array([y1, y2, y3, y4, int(y5), int(y6)])
    di = const_di + np.dot(a, Y)

    st.subheader(f"DI = {di:>.3f}")

    if di < 0:
        st.error("ĞĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ğ½ĞµÑ„Ñ€Ğ¾Ğ°Ğ¼Ğ½Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑˆÑƒĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ")
    else:
        st.success("ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ğ¹ Ğ´Ğ»Ñ ÑˆÑƒĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ½ĞµÑ‚")
