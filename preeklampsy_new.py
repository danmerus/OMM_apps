import streamlit as st

st.set_page_config(page_title="–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞", page_icon="ü©∫", layout="centered")

st.title("ü©∫ –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞")

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ (–±–µ–∑ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö/—Ñ–æ—Ä–º—É–ª—ã)
col1, col2 = st.columns(2)
with col1:
    hypodynamia = st.checkbox("–°–Ω–∏–∂–µ–Ω–Ω–∞—è —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–º–µ–Ω–µ–µ 21 –±–∞–ª–ª–∞ –ø–æ –æ–ø—Ä–æ—Å–Ω–∏–∫—É IPAQ)", value=False)
    ckd = st.checkbox("–•—Ä–æ–Ω–∏—á–µ—Å–∫–∞—è –±–æ–ª–µ–∑–Ω—å –ø–æ—á–µ–∫", value=False)
    chronic_ht_prev_preg = st.checkbox("–•—Ä–æ–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è –≥–∏–ø–µ—Ä—Ç–µ–Ω–∑–∏—è –≤ –ø—Ä–µ–¥—ã–¥—É—â—É—é –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å", value=False)
with col2:
    systolic = st.number_input("–°–∏—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ –ê–î –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∏–∑–∏—Ç–µ (–º–º —Ä—Ç. —Å—Ç.)",
                               min_value=70, max_value=220, value=120, step=1)
    diastolic = st.number_input("–î–∏–∞—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ –ê–î –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∏–∑–∏—Ç–µ (–º–º —Ä—Ç. —Å—Ç.)",
                                min_value=40, max_value=140, value=80, step=1)

st.markdown("")

# –ö–Ω–æ–ø–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
if st.button("–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ä–∏—Å–∫"):
    # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–∞—Å—á—ë—Ç—ã (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Ö –Ω–µ –≤–∏–¥–∏—Ç)
    x1 = 1 if hypodynamia else 0
    x2 = 1 if ckd else 0
    x3 = 1 if chronic_ht_prev_preg else 0
    x4 = float(systolic)
    x5 = float(diastolic)
    x6 = 1 if diastolic > 100 else 0

    # –ú–æ–¥–µ–ª—å (—Å–∫—Ä—ã—Ç–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ)
    D = 1.61 * x1 + 1.05 * x2 - 1.62 * x3 - 0.11 * x4 + 0.09 * x5 + 3.13 * x6 + 3.73
    risk_high = D >= -1.36

    # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ç–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–ª—å–Ω—É—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é, –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–¥–µ–ª–∏
    if risk_high:
        st.error("–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫")
    else:
        st.success("–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫")
